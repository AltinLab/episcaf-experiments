

profiles {
    
    gemini {
        params {
            rfdiffusion_models_path = "/packages/RFdiffusion/1.1.0/models"
            rfdiffusion_schedule_path = "/tgen_labs/altin/alphafold3/workspace/episcaf-experiments/data/abdb/scaffold/schedules"
        }

        process {
            withLabel: process_local {
                executor = 'local'
            }

            withLabel: mmseqs_heavy {
                executor = 'slurm'
                queue = 'compute'
                cpus = '8'
                memory = '64GB'
                clusterOptions = '--time=1:00:00'
                conda = "envs/mmseqs.yaml"
            }

            withLabel: episcaf_local {
                executor = "local"
                conda = "$HOME/miniconda3/envs/episcaf-experiments"
            }

            withLabel: rfdiffusion {
                executor = 'slurm'
                queue = 'gpu-v100'
                cpus = '8'
                memory = '64GB'
                clusterOptions = '--nodes=1 --ntasks=1 --gres=gpu:1 --time=2:00:00'
                container = '/packages/containers/RFdiffusion/1.1.0.sif'
                containerOptions = '--nv -B /scratch,/tgen_labs,/packages --cleanenv'
                beforeScript = 'module load singularity && export SINGULARITYENV_TMPDIR=/scratch/$USER/tmp'
            }

        }
    }
}
